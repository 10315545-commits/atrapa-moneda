<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Juego con Sistema de Roles</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0f172a;
  color:white;
  text-align:center;
}

button{
  padding:10px 15px;
  margin:5px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
}

#mainMenu, #game, #adminPanel, #rulerPanel{
  display:none;
  margin-top:50px;
}

.adminBtn{ background:#00ffcc; }
.rulerBtn{ background:#ff00ff; }
.playBtn{ background:#00aaff; }

input{
  padding:8px;
  border-radius:6px;
  border:none;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <h1>üîê Login</h1>
  <input type="text" id="username" placeholder="Nombre"><br><br>
  <input type="password" id="password" placeholder="Contrase√±a"><br><br>
  <button onclick="login()">Entrar</button>
</div>

<!-- MENU PRINCIPAL -->
<div id="mainMenu">
  <h1>üéÆ MEN√ö PRINCIPAL</h1>

  <button class="playBtn" onclick="startGame()">Jugar</button>

  <button id="adminBtn" class="adminBtn" onclick="openAdmin()" style="display:none;">
    Panel Admin
  </button>

  <button id="rulerBtn" class="rulerBtn" onclick="openRuler()" style="display:none;">
    Panel Ruler
  </button>

  <br><br>
  <button onclick="logout()">Cerrar Sesi√≥n</button>
</div>

<!-- JUEGO -->
<div id="game">
  <h2>üéØ Juego Activo</h2>
  <p id="stats"></p>
  <button onclick="addCoins(1)">+1 Moneda</button>
  <button onclick="backToMenu()">Volver</button>
</div>

<!-- PANEL ADMIN -->
<div id="adminPanel">
  <h2>üõ† Panel Admin</h2>
  <button onclick="addCoins(10)">+10 Monedas</button>
  <button onclick="backToMenu()">Volver</button>
</div>

<!-- PANEL RULER -->
<div id="rulerPanel">
  <h2>üëë Panel Ruler</h2>
  <button onclick="addCoins(50)">+50 Monedas</button>
  <button onclick="infiniteMode()">Vida Infinita</button>
  <button onclick="backToMenu()">Volver</button>
</div>

<script>

/* ---------------- SISTEMA DE USUARIOS ---------------- */

const users = {
  "player1": { password:"1234", role:"player" },
  "admin1":  { password:"admin123", role:"admin" },
  "ruler1":  { password:"ruler123", role:"ruler" }
};

let currentUser = null;
let coins = 0;
let infinite = false;

function login(){
  let name = document.getElementById("username").value;
  let pass = document.getElementById("password").value;

  if(users[name] && users[name].password === pass){
    currentUser = users[name];
    showMenu();
  } else {
    alert("Datos incorrectos");
  }
}

function showMenu(){
  document.getElementById("login").style.display="none";
  document.getElementById("mainMenu").style.display="block";

  // Mostrar botones seg√∫n rol
  if(currentUser.role === "admin" || currentUser.role === "ruler"){
    document.getElementById("adminBtn").style.display="inline-block";
  }

  if(currentUser.role === "ruler"){
    document.getElementById("rulerBtn").style.display="inline-block";
  }
}

function logout(){
  location.reload();
}

/* ---------------- MEN√öS ---------------- */

function startGame(){
  hideAll();
  document.getElementById("game").style.display="block";
  updateStats();
}

function openAdmin(){
  if(currentUser.role === "admin" || currentUser.role === "ruler"){
    hideAll();
    document.getElementById("adminPanel").style.display="block";
  }
}

function openRuler(){
  if(currentUser.role === "ruler"){
    hideAll();
    document.getElementById("rulerPanel").style.display="block";
  }
}

function backToMenu(){
  hideAll();
  document.getElementById("mainMenu").style.display="block";
}

function hideAll(){
  document.getElementById("mainMenu").style.display="none";
  document.getElementById("game").style.display="none";
  document.getElementById("adminPanel").style.display="none";
  document.getElementById("rulerPanel").style.display="none";
}

/* ---------------- FUNCIONES DEL JUEGO ---------------- */

function addCoins(n){
  coins += n;
  updateStats();
}

function infiniteMode(){
  infinite = true;
  alert("Modo infinito activado üëë");
}

function updateStats(){
  document.getElementById("stats").innerText =
    "Monedas: " + coins +
    (infinite ? " | Vida infinita ACTIVADA" : "");
}

</script>
</body>
</html>


