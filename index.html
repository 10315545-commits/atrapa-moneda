<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Atrapa la Moneda Mega Owner</title>
<style>
body{
  margin:0;
  background:#0f0f0f;
  color:white;
  font-family:Arial;
  text-align:center;
  overflow:hidden;
}
h1{
  color:#ff00ff;
  text-shadow:0 0 15px #ff00ff, 0 0 30px #ff00ff;
}
button{
  padding:10px 20px;
  font-size:18px;
  background:#ff00ff;
  border:none;
  border-radius:10px;
  cursor:pointer;
  color:#fff;
  text-shadow:0 0 5px #fff;
}
#game, #adminPanel, #ownerPanel{ display:none; }
#moneda{
  font-size:80px;
  margin:20px;
  transition: transform 0.2s;
  position: relative;
  z-index: 2;
}
#moneda.anim{ transform: scale(1.5); }
.info{ font-size:20px; margin:10px; }

.fallingCoin, .diamond, .bossCoin{
  position:absolute;
  font-size:30px;
  top:-50px;
  animation-name:falling;
  animation-timing-function: linear;
  animation-duration: 3s;
}
.diamond{ color: #00ffff; font-size:25px; }
.bossCoin{ color: gold; font-size:35px; }

@keyframes falling {
  0%{ top:-50px; }
  100%{ top:100vh; }
}
</style>
</head>
<body>

<h1>üéÆ ATRAPA LA MONEDA OWNER</h1>

<div id="menu">
  <button onclick="iniciar()">INICIAR JUEGO</button>
  <button onclick="abrirAdmin()">ADMIN PANEL</button>
  <button onclick="abrirOwner()">OWNER PANEL</button>
</div>

<div id="game">
  <h2 id="moneda">‚ùì</h2>
  <p>Presiona L, C o R o toca la moneda</p>
  <div class="info" id="stats"></div>
</div>

<div id="adminPanel">
  <h2>Admin Panel</h2>
  <button onclick="comandoParty()">Party üéâ</button>
  <button onclick="comandoClear()">Clear üßπ</button>
  <button onclick="comandoRainDiamonds()">Rain Diamonds üíé</button>
  <button onclick="comandoBoss()">Boss Event üëë</button>
  <button onclick="cerrarAdmin()">Cerrar Panel</button>
</div>

<div id="ownerPanel">
  <h2>Owner Panel üîí</h2>
  <div>
    <label>Clave secreta: </label>
    <input type="password" id="ownerPass">
    <button onclick="verificarOwner()">Entrar</button>
  </div>
  <div id="configPanel" style="display:none;">
    <h3>Configuraci√≥n del Juego</h3>
    <label>Velocidad Inicial: </label><input type="number" id="velInicial" value="1500"><br>
    <label>Vidas Iniciales: </label><input type="number" id="vidasInicial" value="5"><br>
    <label>Color de Men√∫: </label><input type="color" id="menuColor" value="#ff00ff"><br>
    <label>Animaci√≥n Moneda:</label><input type="checkbox" id="animMoneda" checked><br>
    <button onclick="guardarConfig()">Guardar Configuraci√≥n</button>

    <h3>Versiones Antiguas</h3>
    <button onclick="cargarVersion(1)">Versi√≥n 1.0</button>
    <button onclick="cargarVersion(1.5)">Versi√≥n 1.5</button>
    <button onclick="cargarVersion(2.0)">Versi√≥n 2.0</button>
    <button onclick="cargarVersion(3.0)">Versi√≥n 3.0</button>
  </div>
  <button onclick="cerrarOwner()">Cerrar Owner</button>
</div>

<audio id="coinSound" src="https://freesound.org/data/previews/341/341695_5260870-lq.mp3"></audio>
<audio id="bossSound" src="https://freesound.org/data/previews/331/331912_3248244-lq.mp3"></audio>

<script>
let pesos = 0, vidas = 5, record = localStorage.getItem("record") || 0;
let secuencia = ["R","L","C","L","R","C","R"], indice = 0, monedaActual="", velocidad = 1500, intervalo;
const monedaEl = document.getElementById("moneda"), statsEl = document.getElementById("stats");
const coinSound = document.getElementById("coinSound"), bossSound = document.getElementById("bossSound");

// CONFIG
let config = {
  velocidadInicial: 1500,
  vidasInicial: 5,
  colorMenu: "#ff00ff",
  animacionMoneda: true
};

// INICIO
function iniciar(){
  document.getElementById("menu").style.display="none";
  document.getElementById("game").style.display="block";
  resetGame();
}

// RESET GAME
function resetGame(){
  pesos=0; vidas=config.vidasInicial; velocidad=config.velocidadInicial; indice=0;
  actualizarStats();
  nuevaMoneda();
  clearInterval(intervalo);
  intervalo = setInterval(tiempoAgotado, velocidad);
}

// NUEVA MONEDA
function nuevaMoneda(){
  monedaActual = secuencia[indice];
  monedaEl.innerText = monedaActual;
  if(config.animacionMoneda){
    monedaEl.classList.add("anim");
    setTimeout(()=> monedaEl.classList.remove("anim"),200);
  }
  indice = (indice + 1) % secuencia.length;
}

// STATS
function actualizarStats(){
  statsEl.innerText = "Pesos: " + pesos + " | Vidas: " + vidas + " | R√©cord: " + record;
}

// TIEMPO AGOTADO
function tiempoAgotado(){ vidas--; actualizarStats(); if(vidas<=0) gameOver(); nuevaMoneda(); }

// GAME OVER
function gameOver(){
  clearInterval(intervalo);
  if(pesos>record){ record=pesos; localStorage.setItem("record",record); }
  alert("GAME OVER\nPuntaje: " + pesos);
  resetGame();
}

// ATRAPAR MONEDA
function atraparMoneda(){
  pesos++;
  coinSound.currentTime=0; coinSound.play();
  velocidad=Math.max(500,velocidad-50);
  clearInterval(intervalo);
  intervalo=setInterval(tiempoAgotado,velocidad);
  crearMonedaCayendo("üí∞");
}

// TECLADO
document.addEventListener("keydown", e=>{
  const eleccion=e.key.toUpperCase();
  if(!["L","C","R"].includes(eleccion)) return;
  if(eleccion===monedaActual) atraparMoneda(); else vidas--;
  actualizarStats();
  if(vidas<=0) gameOver();
  nuevaMoneda();
});

// CELULAR
monedaEl.addEventListener("click", ()=>{
  atraparMoneda();
  nuevaMoneda();
});

// MONEDAS CAYENDO
function crearMonedaCayendo(simbolo){
  const coin=document.createElement("div");
  coin.className="fallingCoin"; coin.innerText=simbolo;
  coin.style.left=Math.random()*90+"vw";
  coin.style.animationDuration=(2+Math.random()*2)+"s";
  document.body.appendChild(coin);
  setTimeout(()=>coin.remove(),3000);
}

// ADMIN PANEL
function abrirAdmin(){ document.getElementById("adminPanel").style.display="block"; }
function cerrarAdmin(){ document.getElementById("adminPanel").style.display="none"; }
function comandoParty(){ for(let i=0;i<20;i++) crearMonedaCayendo("üí∞"); }
function comandoClear(){ document.querySelectorAll(".fallingCoin, .diamond, .bossCoin").forEach(el=>el.remove()); }
function comandoRainDiamonds(){ for(let i=0;i<30;i++){ const d=document.createElement("div"); d.className="diamond"; d.innerText="üíé"; d.style.left=Math.random()*90+"vw"; d.style.animationDuration=(2+Math.random()*2)+"s"; document.body.appendChild(d); setTimeout(()=>d.remove(),3000); } }
function comandoBoss(){ bossSound.currentTime=0; bossSound.play(); for(let i=0;i<50;i++){ const b=document.createElement("div"); b.className="bossCoin"; b.innerText="üëë"; b.style.left=Math.random()*90+"vw"; b.style.animationDuration=(1.5+Math.random()*2)+"s"; document.body.appendChild(b); setTimeout(()=>b.remove(),4000); } }

// OWNER PANEL
function abrirOwner(){ document.getElementById("ownerPanel").style.display="block"; }
function cerrarOwner(){ document.getElementById("ownerPanel").style.display="none"; }

function verificarOwner(){
  const pass=document.getElementById("ownerPass").value;
  if(pass==="admin123"){ document.getElementById("configPanel").style.display="block"; alert("Bienvenido Owner"); } else alert("Clave incorrecta");
}

function guardarConfig(){
  config.velocidadInicial=parseInt(document.getElementById("velInicial").value);
  config.vidasInicial=parseInt(document.getElementById("vidasInicial").value);
  config.colorMenu=document.getElementById("menuColor").value;
  config.animacionMoneda=document.getElementById("animMoneda").checked;
  document.querySelectorAll("button").forEach(b=>b.style.background=config.colorMenu);
  alert("Configuraci√≥n guardada");
}

function cargarVersion(ver){
  alert("Cargando versi√≥n "+ver+"\n(En esta demo solo se simula, reemplaza con tu c√≥digo de versi√≥n antigua)");
}
</script>

</body>
</html>
