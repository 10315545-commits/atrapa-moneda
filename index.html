<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Â¡Atrapa la Gaseosa Arcade! ðŸ¥¤ - Beta 2.1</title>
<style>
body {
  text-align: center;
  font-family: sans-serif;
  background: #222;
  color: #fff;
  transition: all 0.5s;
}
h1 { color: #ffdd00; }
#moneda {
  font-size: 50px;
  margin: 20px;
  display: inline-block;
  transition: transform 0.3s;
}
#mensaje, #puntaje { font-size: 20px; margin: 10px; }

/* BOTONES */
button {
  padding: 8px 16px;
  margin: 5px;
  font-size: 16px;
  cursor: pointer;
}

/* TEMAS */
.tema-oscuro{
  background:#111;
  color:white;
}
.tema-neon{
  background:black;
  color:#00ffcc;
}
.tema-neon h1{
  color:#ff00ff;
  text-shadow:0 0 20px #ff00ff;
}
.tema-neon button{
  background:#ff00ff;
  color:black;
}
.tema-fuego{
  background:linear-gradient(180deg,#200000,#600000);
  color:#ffcc00;
}
.tema-fuego h1{
  color:#ff3300;
  text-shadow:0 0 20px #ff0000;
}
.tema-fuego button{
  background:#ff3300;
  color:white;
}
</style>
</head>
<body>
<h1>Â¡Atrapa la Gaseosa Arcade! ðŸ¥¤</h1>
<p id="puntaje">Pesos: 0 | Vidas: 5</p>
<p id="mensaje">Presiona L, C o R para atrapar la moneda</p>
<p id="moneda">ðŸ’°</p>

<!-- MENÃš CONFIG -->
<div id="menu">
  <h2>âš™ ConfiguraciÃ³n</h2>
  <p>ðŸ”Š Sonido: 
    <select id="sonidoOpt">
      <option value="true">On</option>
      <option value="false">Off</option>
    </select>
  </p>
  <p>ðŸŽ® Dificultad:
    <select id="dificultadOpt">
      <option value="normal">Normal</option>
      <option value="difÃ­cil">DifÃ­cil</option>
    </select>
  </p>
  <p>ðŸŽ¨ Tema:
    <select id="temaOpt">
      <option value="oscuro">Oscuro</option>
      <option value="neon">NeÃ³n</option>
      <option value="fuego">Fuego</option>
    </select>
  </p>
  <button onclick="guardarConfig()">Guardar ConfiguraciÃ³n</button>
</div>

<!-- SONIDO -->
<audio id="sonidoMoneda" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>

<script>
let pesos = 0;
let vidas = 5;
let posiciones = ['L','R','C','L','R','C','R']; // tu orden personalizado
let indice = 0;

const monedaEl = document.getElementById('moneda');
const mensajeEl = document.getElementById('mensaje');
const puntajeEl = document.getElementById('puntaje');
const sonidoMoneda = document.getElementById('sonidoMoneda');

let config = {
  sonido: true,
  dificultad: 'normal',
  tema: 'oscuro'
};

// FunciÃ³n para aplicar tema
function aplicarTema(){
  document.body.classList.remove('tema-oscuro','tema-neon','tema-fuego');
  document.body.classList.add('tema-' + config.tema);
}

// FunciÃ³n para guardar configuraciÃ³n
function guardarConfig(){
  config.sonido = document.getElementById('sonidoOpt').value === 'true';
  config.dificultad = document.getElementById('dificultadOpt').value;
  config.tema = document.getElementById('temaOpt').value;
  aplicarTema();
  alert('ConfiguraciÃ³n guardada âœ…');
}

// Nueva moneda segÃºn tu secuencia
function nuevaMoneda(){
  if(indice >= posiciones.length) indice = 0;
  let pos = posiciones[indice];
  indice++;
  monedaEl.innerText = 'ðŸ’° ' + pos;
  monedaEl.style.transform = 'scale(1.5)';
  setTimeout(()=>{monedaEl.style.transform='scale(1)';},200);
  return pos;
}

let monedaActual = nuevaMoneda();

// Escucha las teclas
document.addEventListener('keydown', function(e){
  const eleccion = e.key.toUpperCase();
  if(!['L','C','R'].includes(eleccion)) return;

  if(eleccion === monedaActual){
    pesos++;
    mensajeEl.innerText = `Â¡Atrapaste la moneda en ${eleccion}!`;
    if(config.sonido) sonidoMoneda.play();
  } else {
    vidas--;
    mensajeEl.innerText = `Fallaste, la moneda estaba en ${monedaActual}`;
  }

  puntajeEl.innerText = `Pesos: ${pesos} | Vidas: ${vidas}`;

  if(pesos >= 7){
    alert('Â¡Felicidades! Ganaste tu gaseosa ðŸ¥¤');
    pesos=0; vidas=5;
  } else if(vidas <= 0){
    alert('Perdiste todas tus vidas ðŸ˜¢');
    pesos=0; vidas=5;
  }

  monedaActual = nuevaMoneda();
});

// Cargar configuraciÃ³n inicial
aplicarTema();
</script>
</body>
</html>
